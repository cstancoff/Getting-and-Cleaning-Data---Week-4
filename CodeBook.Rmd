---
title: "Codebook.md"
output: html_document
---

```{r text, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Week 4 Assignment

```{r data, echo=FALSE}
# Load the accelerometer data
features <- read.table("../UCI HAR Dataset/features.txt")
train_data <- read.table("../UCI HAR Dataset/train/X_train.txt")
test_data <- read.table("../UCI HAR Dataset/test/X_test.txt")
```

The data was collected from the accelerometer and gyroscope in Samsung smartphones of 30 subjects aged 19-48.  The data consists of statistics of the tri-axial linear acceleration (g) and angular velocity (radians/second).  

From the README.txt included with the original data set:

> "The sensor signals (accelerometer and gyroscope) were pre-processed by applyingnoise filters and then sampled in fixed-width sliding windows of 2.56 sec and 50% overlap (128 readings/window). The sensor acceleration signal, which has gravitational and body motion components, was separated using a Butterworth low-pass filter into body acceleration and gravity. The gravitational force is assumed to have only low frequency components, therefore a filter with 0.3 Hz cutoff frequency was used. From each window, a vector of features was obtained by calculating variables from the time and frequency domain."

The accelerometer and gyroscope data was provided in two text files ("X_train.txt" and "X_test.txt") that consisted of `r nrow(train_data)` and `r nrow(test_data)` records respectively, with `r ncol(train_data)` measurements each.  Similarly, two text files ("y_train.txt" and "y_test.txt") provided an activity code for each record and two text files ("subject_train.txt" and "subject_test.txt") provided the subject for each record.  Additionally, a text file ("features.txt") provided a name for each of the measurments.  The files were combined to create one table of size `r nrow(train_data) + nrow(test_data)` x `r ncol(train_data) + 2`.

This table was reduced to just the `r length(c(1,2,grep("*mean\\(|std\\(*",features$V2)+2))` measurements of mean and standard deviation.  Next, a text file ("activity_labels.txt") providing a description for each of the activities was merged with the reduced table and the names for the measurments from "features.txt" was used to provide descriptive names for each of the columns.  Finally, the average of each measurement was calculated for each subject/activity pairing.

The table below gives the name, units, class, range, and description of each variable in the final table.

```{r codebook, echo=FALSE}
library(pander)
source('run_analysis.R')

options(width=200)
# Load the accelerometer data
dictionary <- read.csv("../codebook.csv")
pandoc.table(dictionary, justify='lcccl', 
             split.cells = c(15,7,9,6,29))
```
